<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Media DataVista - Pertemuan 5</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f4f8ff;
      --panel: #ffffff;
      --primary: #4b8df8;
      --primary-soft: #6da8ff;
      --muted: #6b7280;
      --line: #dbe6ff;
      --shadow: 0 18px 60px rgba(75, 141, 248, 0.15);
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Plus Jakarta Sans', 'Inter', system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(107, 168, 255, 0.12), transparent 32%),
                  radial-gradient(circle at 80% 0%, rgba(75, 141, 248, 0.16), transparent 34%),
                  var(--bg);
      color: #0f172a;
      overflow-x: hidden;
    }
    .card-lite {
      background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 60px 20px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
      text-align: center;
    }
    .genty {
      font-family: 'Plus Jakarta Sans', sans-serif;
      letter-spacing: 0.3px;
      font-weight: 600;
    }
    button {
      border: none;
      cursor: pointer;
      font-size: 15px;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 700;
      transition: all 0.22s ease;
      font-family: 'Plus Jakarta Sans', sans-serif;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-soft) 100%);
      color: #ffffff;
      box-shadow: 0 12px 30px rgba(75, 141, 248, 0.35);
    }
    .btn-primary:hover { 
      transform: translateY(-2px); 
      box-shadow: 0 16px 40px rgba(75, 141, 248, 0.45);
      animation: pulse 0.6s ease;
    }
    .btn-ghost {
      background: #eef2ff;
      color: #0f172a;
      border: 1px solid #cbd5e1;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="slides" id="slides">
      <!-- Slide 1: Identitas Kelompok -->
      <section class="slide" data-slide="501" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:18px;font-weight:700;margin-bottom:18px;text-align:center">Identitas Kelompok</div>
          <div style="margin-bottom:24px;padding:18px;border:1px solid var(--line);border-radius:14px;background:#f9fbff">
            <label class="genty" style="font-weight:700;display:block;margin-bottom:8px;color:#0f172a">Nama Kelompok:</label>
            <input type="text" id="groupName" placeholder="Masukkan nama kelompok..." style="width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:10px;font-size:15px;font-family:'Plus Jakarta Sans',sans-serif">
          </div>
          <div style="margin-bottom:24px">
            <div class="genty" style="font-weight:700;margin-bottom:14px;color:#0f172a;font-size:16px">Anggota Kelompok:</div>
            <div id="membersList" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px"></div>
          </div>
          <div style="margin-top:24px;padding:18px;border:2px dashed #4b8df8;border-radius:14px;background:rgba(75,141,248,0.05)">
            <div class="genty" style="font-weight:700;margin-bottom:14px;color:#0f172a;font-size:16px">‚ûï Tambah Anggota Baru</div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px">
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">Nama Siswa:</label>
                <input type="text" id="memberName" placeholder="Nama lengkap..." style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">Posisi/Tanggung Jawab:</label>
                <select id="memberRole" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
                  <option value="Ketua">Ketua Kelompok</option>
                  <option value="Wakil Ketua">Wakil Ketua</option>
                  <option value="Sekretaris">Sekretaris</option>
                  <option value="Bendahara">Bendahara</option>
                  <option value="Anggota">Anggota Biasa</option>
                </select>
              </div>
            </div>
            <button onclick="addMember()" style="width:100%;padding:12px 16px;background:linear-gradient(135deg,#4b8df8,#6da8ff);color:#fff;border:none;border-radius:10px;font-weight:700;font-size:15px;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;box-shadow:0 6px 18px rgba(75,141,248,0.3);transition:all 0.22s ease" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">Tambahkan ke Kelompok</button>
          </div>
          <div style="margin-top:24px;padding:16px;border:1px solid var(--line);border-radius:12px;background:#e8f0ff">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px">
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">üìÖ Tahun Ajaran:</label>
                <div style="padding:10px 12px;background:#ffffff;border:1px solid var(--line);border-radius:10px;font-size:14px;font-weight:700;color:#0f172a">2025/2026</div>
              </div>
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">üè´ Sekolah:</label>
                <input type="text" id="schoolName" placeholder="Nama sekolah..." style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
            </div>
          </div>
          <div style="margin-top:24px;display:flex;justify-content:flex-end;gap:12px">
            <button onclick="updateSlide(502)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 2: Tujuan Pembelajaran dan Petunjuk Kegiatan -->
      <section class="slide" data-slide="502" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:12px;text-align:center">TUJUAN PEMBELAJARAN</div>
          <div style="margin-bottom:14px;font-size:15px;text-align:center">Setelah menyelesaikan kegiatan ini, peserta didik diharapkan mampu:</div>
          <ol style="font-size:15px;line-height:1.8;margin-bottom:24px;padding-left:22px">
            <li>Menyajikan hasil analisis data statistik dalam bentuk infografis.</li>
            <li>Menyampaikan informasi statistik secara jelas dan logis.</li>
            <li>Menjelaskan makna data berdasarkan infografis yang dibuat.</li>
            <li>Melakukan refleksi terhadap proses dan hasil proyek.</li>
          </ol>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(501)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(503)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 503: Aktivitas 1: Finalisasi Infografis -->
      <section class="slide" data-slide="503" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 18px;max-height:calc(100vh - 100px);overflow-y:auto">
          <div class="genty" style="font-size:19px;font-weight:700;margin-bottom:12px;text-align:center">Aktivitas 1: Finalisasi Infografis</div>
          <div style="margin-bottom:16px;font-size:15px">Gunakan hasil analisis dari LKPD Pertemuan 4 untuk menyelesaikan infografis kelompok.</div>

          <div style="margin-bottom:18px;font-size:16px;font-weight:700">Cek Komponen Infografis</div>
          <div style="margin-bottom:10px;font-size:14px;color:var(--muted)">Beri tanda centang (‚úì):</div>
          <div style="margin-bottom:20px;padding:12px;background:#f9fbff;border-radius:8px;font-size:15px;line-height:1.8">
            <div style="margin-bottom:8px"><input type="checkbox"> Judul jelas dan sesuai data</div>
            <div style="margin-bottom:8px"><input type="checkbox"> Grafik sesuai dengan jenis data (batang/lingkaran/garis)</div>
            <div style="margin-bottom:8px"><input type="checkbox"> Mean, median, atau modus dicantumkan dengan benar</div>
            <div style="margin-bottom:8px"><input type="checkbox"> Pesan utama mudah dipahami</div>
            <div><input type="checkbox"> Sumber data jelas (Data kelas VIII)</div>
          </div>

          <div style="margin-bottom:14px;font-size:15px;font-weight:700">Judul Infografis:</div>
          <input type="text" style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;margin-bottom:18px;font-family:inherit">

          <div style="margin-bottom:14px;font-size:15px;font-weight:700">Jenis Grafik Utama:</div>
          <input type="text" style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;margin-bottom:18px;font-family:inherit">

          <div style="margin-bottom:14px;font-size:15px;font-weight:700">Pesan utama yang ingin disampaikan:</div>
          <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:60px;margin-bottom:18px;font-family:inherit"></textarea>

          <div style="margin-bottom:12px;font-size:15px;font-weight:700">Kotak sketsa konsep infografis</div>
          
          <div style="display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;align-items:center">
            <div style="display:flex;gap:8px;align-items:center">
              <label style="font-size:13px;font-weight:700">Warna Pena:</label>
              <input type="color" id="penColorP5" value="#000000" style="width:50px;height:40px;border:1px solid var(--line);border-radius:4px;cursor:pointer">
            </div>
            <div style="display:flex;gap:8px;align-items:center">
              <label style="font-size:13px;font-weight:700">Ukuran:</label>
              <input type="range" id="penSizeP5" min="1" max="20" value="3" style="width:120px">
              <span id="penSizeDisplayP5" style="font-size:13px;min-width:30px">3px</span>
            </div>
            <button onclick="setDrawingToolP5('pen')" id="penBtnP5" style="padding:8px 16px;background:#4b8df8;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:700;font-size:13px">‚úèÔ∏è Pena</button>
            <button onclick="setDrawingToolP5('eraser')" id="eraserBtnP5" style="padding:8px 16px;background:#e5e7eb;color:#1f2937;border:none;border-radius:6px;cursor:pointer;font-weight:700;font-size:13px">üßπ Penghapus</button>
            <button onclick="clearCanvasP5()" style="padding:8px 16px;background:#ef4444;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:700;font-size:13px">üóëÔ∏è Hapus Semua</button>
          </div>
          
          <div style="border:2px dashed var(--line);border-radius:8px;background:#fafafa;margin-bottom:24px">
            <canvas id="sketchCanvasP5" width="800" height="400" style="display:block;width:100%;border-radius:6px;background:white;cursor:crosshair"></canvas>
          </div>

          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(502)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(504)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 504: Aktivitas 2: Menjelaskan Infografis -->
      <section class="slide" data-slide="504" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">Aktivitas 2: Menjelaskan Infografis (Literasi Statistik)</div>
          <div style="margin-bottom:18px;font-size:16px;font-weight:600">Jawab bersama kelompok:</div>
          
          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">1. Jelaskan data yang digunakan?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:80px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">2. Jelaskan hasil analisis utama?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:80px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">3. Sampaikan pesan atau rekomendasi yang dihasilkan dari data?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:80px;font-family:inherit"></textarea>
          </div>

          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(503)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(505)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 505: Aktivitas 3: Tanya Jawab dan Diskusi -->
      <section class="slide" data-slide="505" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">Aktivitas 3: Tanya Jawab dan Diskusi</div>
          <div style="margin-bottom:20px;font-size:16px">Kelompok lain memberikan tanggapan atau pertanyaan terhadap presentasi yang disampaikan.</div>
          
          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">Tuliskan satu pertanyaan atau tanggapan dari kelompok lain yang menurut kalian paling penting:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:80px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">Jawaban kelompok terhadap pertanyaan teman:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:100px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">Catatan umpan balik dari guru:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:100px;font-family:inherit"></textarea>
          </div>

          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(504)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(506)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 506: Aktivitas 4: Pesan Kesehatan Berbasis Data -->
      <section class="slide" data-slide="506" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">Aktivitas 4: Pesan Kesehatan Berbasis Data</div>
          <div style="margin-bottom:20px;font-size:16px">Berdasarkan hasil analisis data, tuliskan satu pesan kesehatan utama yang didukung oleh data.</div>
          
          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">Pesan kesehatan kelompok kami:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:100px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:24px">
            <div style="margin-bottom:10px;font-size:15px;font-weight:700">Alasan pesan ini didukung oleh data:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:120px;font-family:inherit"></textarea>
          </div>

          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(505)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(507)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 507: Aktivitas 5: Refleksi Akhir Proyek -->
      <section class="slide" data-slide="507" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px;max-height:calc(100vh - 100px);overflow-y:auto">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">Aktivitas 5: Refleksi Akhir Proyek</div>
          <div style="margin-bottom:20px;font-size:16px">Jawablah pertanyaan berikut secara singkat dan jujur:</div>
          
          <div style="margin-bottom:20px">
            <div style="margin-bottom:8px;font-size:15px;font-weight:700">1. Hal terpenting yang kami pelajari tentang statistika dari proyek ini:</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:70px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:20px">
            <div style="margin-bottom:8px;font-size:15px;font-weight:700">2. Bagian mana yang paling menantang dalam mengolah dan menyajikan data?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:70px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:20px">
            <div style="margin-bottom:8px;font-size:15px;font-weight:700">3. Apa manfaat memahami data penggunaan HP bagi kehidupan sehari-hari?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:70px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:20px">
            <div style="margin-bottom:8px;font-size:15px;font-weight:700">4. Apa kekuatan utama kelompok kami selama proyek berlangsung?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:70px;font-family:inherit"></textarea>
          </div>

          <div style="margin-bottom:20px">
            <div style="margin-bottom:8px;font-size:15px;font-weight:700">5. Apa yang akan kami perbaiki jika proyek ini dilakukan kembali?</div>
            <textarea style="width:100%;padding:10px;border:1px solid var(--line);border-radius:6px;min-height:70px;font-family:inherit"></textarea>
          </div>

          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(506)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(508)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      
                <!-- Slide 508: Checklist Akhir Proyek -->
                <section class="slide" data-slide="508" style="display:none">
                  <div class="card-lite" style="text-align:left;padding:32px 24px">
                    <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">Checklist Akhir Proyek</div>
                    <div style="margin-bottom:24px;font-size:15px;text-align:center">Pastikan semua komponen proyek telah diselesaikan dengan baik.</div>
          
                    <div style="margin-bottom:24px;padding:20px;background:#f8fbff;border-radius:10px;border:1px solid var(--line)">
                      <div style="margin-bottom:16px;display:flex;align-items:center;gap:12px">
                        <input type="checkbox" id="check1" style="width:20px;height:20px;cursor:pointer">
                        <label for="check1" style="font-size:15px;cursor:pointer">Infografis selesai dan berbasis data</label>
                      </div>

                      <div style="margin-bottom:16px;display:flex;align-items:center;gap:12px">
                        <input type="checkbox" id="check2" style="width:20px;height:20px;cursor:pointer">
                        <label for="check2" style="font-size:15px;cursor:pointer">Analisis statistik disajikan dengan benar</label>
                      </div>

                      <div style="margin-bottom:16px;display:flex;align-items:center;gap:12px">
                        <input type="checkbox" id="check3" style="width:20px;height:20px;cursor:pointer">
                        <label for="check3" style="font-size:15px;cursor:pointer">Pesan kesehatan dirumuskan berdasarkan data</label>
                      </div>

                      <div style="margin-bottom:16px;display:flex;align-items:center;gap:12px">
                        <input type="checkbox" id="check4" style="width:20px;height:20px;cursor:pointer">
                        <label for="check4" style="font-size:15px;cursor:pointer">Presentasi kelompok dilaksanakan</label>
                      </div>

                      <div style="display:flex;align-items:center;gap:12px">
                        <input type="checkbox" id="check5" style="width:20px;height:20px;cursor:pointer">
                        <label for="check5" style="font-size:15px;cursor:pointer">Refleksi proyek dituliskan</label>
                      </div>
                    </div>

                    <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
                      <button onclick="updateSlide(507)" class="btn-ghost">‚Üê Sebelumnya</button>
                      <button onclick="showSelesaiPopup()" class="btn-primary">Selesai</button>
                      <button id="downloadPDFBtn" onclick="downloadPDF()" class="btn-primary">Download PDF</button>
                    </div>
                  </div>
                </section>
      
          </div>
        </div>
      </section>
      <!-- Slide 1001: Chart Generator -->
      <section class="slide" data-slide="1001" style="display:none">
        <div style="padding:32px 24px;max-height:calc(100vh - 100px);overflow-y:auto">
          <div class="genty" style="font-size:22px;font-weight:700;margin-bottom:20px;text-align:center;color:#0f172a">üìä Chart Generator - Penyajian Data</div>
          <div style="margin-bottom:20px;font-size:14px;color:#6b7280;text-align:center">Buat visualisasi data untuk presentasi Anda</div>
          
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">
            <!-- Input Data Section -->
            <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px">
              <div style="font-weight:700;font-size:16px;margin-bottom:16px;color:#0f172a">üìù Input Data</div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Label/Kategori (pisahkan dengan koma)</label>
                <input type="text" id="chartLabels" placeholder="Kategori A, Kategori B, Kategori C" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Data/Nilai (pisahkan dengan koma)</label>
                <input type="text" id="chartValues" placeholder="10, 20, 30" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Judul Chart</label>
                <input type="text" id="chartTitle" placeholder="Contoh: Durasi Penggunaan HP" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:16px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Jenis Chart</label>
                <select id="chartType" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
                  <option value="bar">üìä Diagram Batang</option>
                  <option value="line">üìà Diagram Garis</option>
                  <option value="doughnut">ü•ß Diagram Lingkaran</option>
                  <option value="radar">üéØ Diagram Radar</option>
                </select>
              </div>
              
              <button onclick="generateChart()" style="width:100%;padding:12px;background:linear-gradient(135deg,#4b8df8,#6da8ff);color:white;border:none;border-radius:10px;font-weight:700;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s ease" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                ‚ú® Buat Chart
              </button>
            </div>
            
            <!-- Chart Preview -->
            <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px;display:flex;flex-direction:column">
              <div style="font-weight:700;font-size:16px;margin-bottom:16px;color:#0f172a">üëÅÔ∏è Preview</div>
              <div id="chartPreviewContainer" style="flex:1;display:flex;align-items:center;justify-content:center;min-height:300px;background:#f9fbff;border-radius:12px;border:1px dashed var(--line)">
                <div style="text-align:center;color:#9ca3af">
                  <div style="font-size:32px;margin-bottom:8px">üìä</div>
                  <div>Isi data dan klik "Buat Chart"</div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Chart Data Table Preview -->
          <div style="margin-top:20px;background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px">
            <div style="font-weight:700;font-size:16px;margin-bottom:12px;color:#0f172a">üìã Preview Data Tabel</div>
            <div id="tablePreviewContainer" style="max-height:200px;overflow-y:auto"></div>
          </div>
          
          <!-- Action Buttons -->
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
            <button onclick="updateSlide(507)" class="btn-ghost" style="flex:1">‚Üê Kembali</button>
            <button onclick="downloadChartPDF()" class="btn-primary" style="flex:1">üì• Download Chart</button>
            <button onclick="resetChartForm()" style="flex:1;padding:12px 16px;background:#f3f4f6;color:#0f172a;border:1px solid var(--line);border-radius:10px;font-weight:700;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s ease" onmouseover="this.style.background='#e5e7eb'" onmouseout="this.style.background='#f3f4f6'">üîÑ Reset</button>
          </div>
        </div>
        
        <style>
          #chartPreviewContainer canvas {
            max-width: 100%;
            height: auto;
          }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
        <script>
          let currentChartInstance = null;
          
          function generateChart() {
            const labelsInput = document.getElementById('chartLabels').value;
            const valuesInput = document.getElementById('chartValues').value;
            const chartTitle = document.getElementById('chartTitle').value || 'Chart';
            const chartType = document.getElementById('chartType').value;
            
            if (!labelsInput.trim() || !valuesInput.trim()) {
              alert('Silakan isi data label dan nilai terlebih dahulu');
              return;
            }
            
            const labels = labelsInput.split(',').map(l => l.trim());
            const values = valuesInput.split(',').map(v => {
              const num = parseFloat(v.trim());
              return isNaN(num) ? 0 : num;
            });
            
            if (labels.length !== values.length) {
              alert('Jumlah label harus sama dengan jumlah nilai');
              return;
            }
            
            updateTablePreview(labels, values);
            renderChart(labels, values, chartTitle, chartType);
          }
          
          function updateTablePreview(labels, values) {
            const container = document.getElementById('tablePreviewContainer');
            let html = '<table style="width:100%;border-collapse:collapse">';
            html += '<thead><tr style="background:#f5f5f5"><th style="padding:10px;text-align:left;border:1px solid var(--line)">Kategori</th><th style="padding:10px;text-align:center;border:1px solid var(--line)">Nilai</th></tr></thead>';
            html += '<tbody>';
            
            labels.forEach((label, idx) => {
              html += `<tr><td style="padding:10px;border:1px solid var(--line)">${label}</td><td style="padding:10px;text-align:center;border:1px solid var(--line);font-weight:700">${values[idx]}</td></tr>`;
            });
            
            html += '</tbody></table>';
            container.innerHTML = html;
          }
          
          function renderChart(labels, values, title, type) {
            const container = document.getElementById('chartPreviewContainer');
            
            // Generate random colors
            const bgColors = labels.map(() => {
              const hue = Math.random() * 360;
              return `hsl(${hue}, 70%, 60%)`;
            });
            
            const borderColors = labels.map(() => {
              const hue = Math.random() * 360;
              return `hsl(${hue}, 70%, 40%)`;
            });
            
            // Destroy previous chart
            if (currentChartInstance) {
              currentChartInstance.destroy();
            }
            
            // Create canvas
            container.innerHTML = '<canvas id="dynamicChart"></canvas>';
            const canvas = document.getElementById('dynamicChart');
            
            const chartConfig = {
              type: type,
              data: {
                labels: labels,
                datasets: [{
                  label: title,
                  data: values,
                  backgroundColor: type === 'line' ? 'rgba(75, 141, 248, 0.1)' : bgColors,
                  borderColor: type === 'line' ? '#4b8df8' : borderColors,
                  borderWidth: type === 'line' ? 3 : 1,
                  fill: type === 'line' ? true : false,
                  tension: 0.4
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    display: type !== 'bar' && type !== 'line',
                    position: 'bottom'
                  },
                  title: {
                    display: true,
                    text: title,
                    font: { size: 16, weight: 'bold' }
                  }
                },
                scales: type === 'line' || type === 'bar' ? {
                  y: {
                    beginAtZero: true,
                    ticks: {
                      stepSize: Math.ceil(Math.max(...values) / 5)
                    }
                  }
                } : undefined
              }
            };
            
            currentChartInstance = new Chart(canvas, chartConfig);
          }
          
          function downloadChartPDF() {
            if (!currentChartInstance) {
              alert('Silakan buat chart terlebih dahulu');
              return;
            }
            
            const canvas = document.getElementById('dynamicChart');
            if (!canvas) {
              alert('Chart tidak ditemukan');
              return;
            }
            
            const imageData = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = imageData;
            link.download = 'chart_' + new Date().getTime() + '.png';
            link.click();
          }
          
          function resetChartForm() {
            document.getElementById('chartLabels').value = '';
            document.getElementById('chartValues').value = '';
            document.getElementById('chartTitle').value = '';
            document.getElementById('chartType').value = 'bar';
            document.getElementById('chartPreviewContainer').innerHTML = `
              <div style="text-align:center;color:#9ca3af">
                <div style="font-size:32px;margin-bottom:8px">üìä</div>
                <div>Isi data dan klik "Buat Chart"</div>
              </div>
            `;
            document.getElementById('tablePreviewContainer').innerHTML = '';
            
            if (currentChartInstance) {
              currentChartInstance.destroy();
              currentChartInstance = null;
            }
          }
        </script>
      </section>
    </div>
  </div>
  <script>
    // Navigasi slide: hanya satu slide tampil (class 'active')
    function showSlideByDataSlide(slideNum) {
      document.querySelectorAll('.slide').forEach(sl => {
        if (Number(sl.getAttribute('data-slide')) === slideNum) {
          sl.classList.add('active');
          sl.style.display = '';
        } else {
          sl.classList.remove('active');
          sl.style.display = 'none';
        }77
      });
      window.scrollTo(0,0);
    }
    // Inisialisasi: tampilkan slide pertama (501)
    document.addEventListener('DOMContentLoaded', function() {
      showSlideByDataSlide(501);
      // (Tombol Download PDF sekarang hanya ada di slide terakhir)
      
      // Initialize P5 Canvas Controls
      const penColorInputP5 = document.getElementById('penColorP5');
      if (penColorInputP5) {
        penColorInputP5.addEventListener('change', function(e) {
          currentColorP5 = e.target.value;
        });
      }
      
      const penSizeInputP5 = document.getElementById('penSizeP5');
      if (penSizeInputP5) {
        penSizeInputP5.addEventListener('input', function(e) {
          currentSizeP5 = e.target.value;
          document.getElementById('penSizeDisplayP5').textContent = e.target.value + 'px';
        });
      }

      // Initialize canvas when slide 503 is shown
      const observerP5 = new MutationObserver(function() {
        const slide503 = document.querySelector('[data-slide="503"]');
        if (slide503 && slide503.style.display !== 'none') {
          setTimeout(initCanvasP5, 100);
        }
      });
      
      observerP5.observe(document.body, { attributes: true, subtree: true, attributeFilter: ['style', 'display'] });
      
      // Try to initialize on first load
      setTimeout(initCanvasP5, 500);
    });
    // Ganti semua tombol updateSlide agar pakai showSlideByDataSlide
    window.updateSlide = showSlideByDataSlide;
    // Fungsi tambah anggota (dummy, bisa dikembangkan)
    function addMember() {
      const nameInput = document.getElementById('memberName');
      const roleInput = document.getElementById('memberRole');
      const membersList = document.getElementById('membersList');
      const name = nameInput.value.trim();
      const role = roleInput.value;
      if (!name) {
        alert('Nama anggota tidak boleh kosong!');
        nameInput.focus();
        return;
      }
      // Buat elemen anggota
      const div = document.createElement('div');
      div.className = 'anggota-item';
      div.style = 'padding:10px 12px;background:#f4f8ff;border:1px solid #dbe6ff;border-radius:10px;margin-bottom:6px;display:flex;align-items:center;gap:8px;';
      const namaSpan = document.createElement('span');
      namaSpan.className = 'anggota-nama';
      namaSpan.textContent = name;
      namaSpan.style = 'font-weight:600;color:#1e293b;';
      const roleSpan = document.createElement('span');
      roleSpan.className = 'anggota-role';
      roleSpan.textContent = '('+role+')';
      roleSpan.style = 'font-size:13px;color:#64748b;';
      // Tombol hapus anggota
      const delBtn = document.createElement('button');
      delBtn.textContent = '‚úï';
      delBtn.title = 'Hapus anggota';
      delBtn.style = 'margin-left:auto;background:#e2e8f0;color:#334155;border:none;border-radius:6px;padding:2px 8px;cursor:pointer;font-size:13px;';
      delBtn.onclick = function() {
        membersList.removeChild(div);
      };
      div.appendChild(namaSpan);
      div.appendChild(roleSpan);
      div.appendChild(delBtn);
      membersList.appendChild(div);
      // Reset input
      nameInput.value = '';
      nameInput.focus();
    }

    // Pop up selesai
    function showSelesaiPopup() {
      alert('Pengerjaanmu selesai!');
    }

    // Canvas Drawing Functions untuk Slide 503 - P5
    let canvasP5 = null;
    let ctxP5 = null;
    let isDrawingP5 = false;
    let currentToolP5 = 'pen';
    let currentColorP5 = '#000000';
    let currentSizeP5 = 3;
    let lastXP5 = 0;
    let lastYP5 = 0;

    function initCanvasP5() {
      canvasP5 = document.getElementById('sketchCanvasP5');
      if (!canvasP5) return;
      ctxP5 = canvasP5.getContext('2d');
      
      // Set background to white
      ctxP5.fillStyle = 'white';
      ctxP5.fillRect(0, 0, canvasP5.width, canvasP5.height);
      
      // Event listeners
      canvasP5.addEventListener('mousedown', startDrawingP5);
      canvasP5.addEventListener('mousemove', drawP5);
      canvasP5.addEventListener('mouseup', stopDrawingP5);
      canvasP5.addEventListener('mouseout', stopDrawingP5);
      canvasP5.addEventListener('touchstart', handleTouchP5);
      canvasP5.addEventListener('touchmove', handleTouchP5);
      canvasP5.addEventListener('touchend', stopDrawingP5);
    }

    function startDrawingP5(e) {
      isDrawingP5 = true;
      const rect = canvasP5.getBoundingClientRect();
      lastXP5 = e.clientX - rect.left;
      lastYP5 = e.clientY - rect.top;
    }

    function drawP5(e) {
      if (!isDrawingP5) return;
      
      const rect = canvasP5.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      if (currentToolP5 === 'pen') {
        ctxP5.strokeStyle = currentColorP5;
        ctxP5.lineWidth = currentSizeP5;
        ctxP5.lineCap = 'round';
        ctxP5.lineJoin = 'round';
        ctxP5.beginPath();
        ctxP5.moveTo(lastXP5, lastYP5);
        ctxP5.lineTo(x, y);
        ctxP5.stroke();
      } else if (currentToolP5 === 'eraser') {
        ctxP5.clearRect(lastXP5 - currentSizeP5/2, lastYP5 - currentSizeP5/2, currentSizeP5, currentSizeP5);
        ctxP5.clearRect(x - currentSizeP5/2, y - currentSizeP5/2, currentSizeP5, currentSizeP5);
      }
      
      lastXP5 = x;
      lastYP5 = y;
    }

    function handleTouchP5(e) {
      e.preventDefault();
      const touch = e.touches[0];
      const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 'mousemove', {
        clientX: touch.clientX,
        clientY: touch.clientY
      });
      canvasP5.dispatchEvent(mouseEvent);
    }

    function stopDrawingP5() {
      isDrawingP5 = false;
    }

    function setDrawingToolP5(tool) {
      currentToolP5 = tool;
      document.getElementById('penBtnP5').style.background = tool === 'pen' ? '#4b8df8' : '#e5e7eb';
      document.getElementById('penBtnP5').style.color = tool === 'pen' ? 'white' : '#1f2937';
      document.getElementById('eraserBtnP5').style.background = tool === 'eraser' ? '#f97316' : '#e5e7eb';
      document.getElementById('eraserBtnP5').style.color = tool === 'eraser' ? 'white' : '#1f2937';
      canvasP5.style.cursor = tool === 'pen' ? 'crosshair' : 'cell';
    }

    function clearCanvasP5() {
      if (canvasP5 && ctxP5) {
        ctxP5.fillStyle = 'white';
        ctxP5.fillRect(0, 0, canvasP5.width, canvasP5.height);
      }
    }

    function collectAllDataP5() {
      const data = {};

      data.groupName = document.getElementById('groupName')?.value || '';
      data.schoolName = document.getElementById('schoolName')?.value || '';
      data.members = [];
      document.querySelectorAll('#membersList .anggota-item').forEach(item => {
        const nama = item.querySelector('.anggota-nama')?.textContent || '';
        const role = item.querySelector('.anggota-role')?.textContent.replace(/[()]/g, '') || '';
        if (nama) data.members.push({ nama, role });
      });

      const slide503 = document.querySelector('[data-slide="503"]');
      const slide503Inputs = slide503?.querySelectorAll('input[type="text"]') || [];
      const slide503Textareas = slide503?.querySelectorAll('textarea') || [];
      data.activity1 = {
        judulInfografis: slide503Inputs[0]?.value || '',
        jenisGrafikUtama: slide503Inputs[1]?.value || '',
        pesanUtama: slide503Textareas[0]?.value || ''
      };

      const slide504 = document.querySelector('[data-slide="504"]');
      const slide504Textareas = slide504?.querySelectorAll('textarea') || [];
      data.activity2 = {
        q1: slide504Textareas[0]?.value || '',
        q2: slide504Textareas[1]?.value || '',
        q3: slide504Textareas[2]?.value || ''
      };

      const slide505 = document.querySelector('[data-slide="505"]');
      const slide505Textareas = slide505?.querySelectorAll('textarea') || [];
      data.activity3 = {
        pertanyaan: slide505Textareas[0]?.value || '',
        jawaban: slide505Textareas[1]?.value || '',
        catatan: slide505Textareas[2]?.value || ''
      };

      const slide506 = document.querySelector('[data-slide="506"]');
      const slide506Textareas = slide506?.querySelectorAll('textarea') || [];
      data.activity4 = {
        pesanKesehatan: slide506Textareas[0]?.value || '',
        alasanPesan: slide506Textareas[1]?.value || ''
      };

      const slide507 = document.querySelector('[data-slide="507"]');
      const slide507Textareas = slide507?.querySelectorAll('textarea') || [];
      data.activity5 = {
        q1: slide507Textareas[0]?.value || '',
        q2: slide507Textareas[1]?.value || '',
        q3: slide507Textareas[2]?.value || '',
        q4: slide507Textareas[3]?.value || '',
        q5: slide507Textareas[4]?.value || ''
      };

      data.checklist = {
        check1: document.getElementById('check1')?.checked || false,
        check2: document.getElementById('check2')?.checked || false,
        check3: document.getElementById('check3')?.checked || false,
        check4: document.getElementById('check4')?.checked || false,
        check5: document.getElementById('check5')?.checked || false
      };

      return data;
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf || {};
      if (typeof jsPDF === 'undefined') {
        alert('‚ö†Ô∏è Library PDF belum dimuat. Silakan refresh halaman dan coba lagi.');
        return;
      }

      const loadingDiv = document.createElement('div');
      loadingDiv.id = 'pdfLoading';
      loadingDiv.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:9999;';
      loadingDiv.innerHTML = '<div style="background:white;padding:30px;border-radius:16px;text-align:center;font-family:Plus Jakarta Sans"><div style="font-size:48px;margin-bottom:16px">üì•</div><div style="font-size:18px;font-weight:700;color:#4b8df8">Membuat PDF...</div><div style="font-size:14px;color:#64748b;margin-top:8px">Mengumpulkan data...</div></div>';
      document.body.appendChild(loadingDiv);

      const data = collectAllDataP5();
      const doc = new jsPDF('p', 'mm', 'a4');
      const left = 15;
      const maxWidth = 180;
      let y = 20;

      function ensureSpace(needed) {
        if (y + needed > 280) {
          doc.addPage();
          y = 20;
        }
      }

      function addSection(title) {
        ensureSpace(12);
        doc.setFontSize(12);
        doc.setTextColor(75, 141, 248);
        doc.text(title, left, y);
        y += 7;
        doc.setFontSize(10);
        doc.setTextColor(0, 0, 0);
      }

      function addLabelValue(label, value) {
        ensureSpace(12);
        doc.setFont(undefined, 'bold');
        doc.text(label, left, y);
        y += 5;
        doc.setFont(undefined, 'normal');
        const lines = doc.splitTextToSize(value || 'Belum diisi', maxWidth - 5);
        doc.text(lines, left + 5, y);
        y += (lines.length * 5) + 4;
      }

      doc.setFontSize(18);
      doc.setTextColor(75, 141, 248);
      doc.text('LKPD Pertemuan 5', 105, y, { align: 'center' });
      y += 8;
      doc.setFontSize(12);
      doc.setTextColor(0, 0, 0);
      doc.text('Penyajian dan Refleksi Proyek', 105, y, { align: 'center' });
      y += 10;

      addSection('IDENTITAS KELOMPOK');
      doc.setFont(undefined, 'normal');
      doc.text('Nama Kelompok: ' + (data.groupName || '-'), left, y);
      y += 6;
      doc.text('Sekolah: ' + (data.schoolName || '-'), left, y);
      y += 6;
      doc.setFont(undefined, 'bold');
      doc.text('Anggota Kelompok:', left, y);
      y += 6;
      doc.setFont(undefined, 'normal');
      if (data.members.length > 0) {
        data.members.forEach((m, idx) => {
          ensureSpace(6);
          doc.text(`${idx + 1}. ${m.nama} - ${m.role}`, left + 5, y);
          y += 5;
        });
      } else {
        doc.text('Belum ada data anggota', left + 5, y);
        y += 5;
      }
      y += 4;

      addSection('AKTIVITAS 1: FINALISASI INFOGRAFIS');
      addLabelValue('Judul Infografis:', data.activity1.judulInfografis);
      addLabelValue('Jenis Grafik Utama:', data.activity1.jenisGrafikUtama);
      addLabelValue('Pesan Utama:', data.activity1.pesanUtama);

      addSection('AKTIVITAS 2: MENJELASKAN INFOGRAFIS');
      addLabelValue('1. Jelaskan data yang digunakan:', data.activity2.q1);
      addLabelValue('2. Jelaskan hasil analisis utama:', data.activity2.q2);
      addLabelValue('3. Pesan atau rekomendasi dari data:', data.activity2.q3);

      addSection('AKTIVITAS 3: TANYA JAWAB DAN DISKUSI');
      addLabelValue('Pertanyaan/tanggapan dari kelompok lain:', data.activity3.pertanyaan);
      addLabelValue('Jawaban kelompok:', data.activity3.jawaban);
      addLabelValue('Catatan umpan balik guru:', data.activity3.catatan);

      addSection('AKTIVITAS 4: PESAN KESEHATAN');
      addLabelValue('Pesan kesehatan:', data.activity4.pesanKesehatan);
      addLabelValue('Alasan didukung data:', data.activity4.alasanPesan);

      addSection('AKTIVITAS 5: REFLEKSI AKHIR');
      addLabelValue('1. Hal terpenting yang dipelajari:', data.activity5.q1);
      addLabelValue('2. Bagian paling menantang:', data.activity5.q2);
      addLabelValue('3. Manfaat memahami data:', data.activity5.q3);
      addLabelValue('4. Kekuatan utama kelompok:', data.activity5.q4);
      addLabelValue('5. Perbaikan untuk proyek berikutnya:', data.activity5.q5);

      addSection('CHECKLIST AKHIR PROYEK');
      const checklistItems = [
        { label: 'Infografis selesai dan berbasis data', value: data.checklist.check1 },
        { label: 'Analisis statistik disajikan dengan benar', value: data.checklist.check2 },
        { label: 'Pesan kesehatan dirumuskan berdasarkan data', value: data.checklist.check3 },
        { label: 'Presentasi kelompok dilaksanakan', value: data.checklist.check4 },
        { label: 'Refleksi proyek dituliskan', value: data.checklist.check5 }
      ];
      checklistItems.forEach((item, idx) => {
        ensureSpace(6);
        doc.text(`${idx + 1}. ${item.label}: ${item.value ? 'Ya' : 'Tidak'}`, left, y);
        y += 6;
      });

      doc.setFontSize(8);
      doc.setTextColor(120, 120, 120);
      doc.text('Generated by Media DataVista - Pertemuan 5', 105, 285, { align: 'center' });

      const filename = `LKPD_P5_${(data.groupName || 'Kelompok').replace(/\s+/g, '_')}.pdf`;
      doc.save(filename);
      document.body.removeChild(loadingDiv);
      alert('‚úÖ PDF berhasil diunduh!\n\nFile berisi semua data yang telah kalian input.');
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
