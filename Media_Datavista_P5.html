<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Media DataVista - Pertemuan 5</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f4f8ff;
      --panel: #ffffff;
      --primary: #4b8df8;
      --primary-soft: #6da8ff;
      --muted: #6b7280;
      --line: #dbe6ff;
      --shadow: 0 18px 60px rgba(75, 141, 248, 0.15);
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Plus Jakarta Sans', 'Inter', system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(107, 168, 255, 0.12), transparent 32%),
                  radial-gradient(circle at 80% 0%, rgba(75, 141, 248, 0.16), transparent 34%),
                  var(--bg);
      color: #0f172a;
      overflow-x: hidden;
    }
    .card-lite {
      background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 60px 20px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
      text-align: center;
    }
    .genty {
      font-family: 'Plus Jakarta Sans', sans-serif;
      letter-spacing: 0.3px;
      font-weight: 600;
    }
    button {
      border: none;
      cursor: pointer;
      font-size: 15px;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 700;
      transition: all 0.22s ease;
      font-family: 'Plus Jakarta Sans', sans-serif;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-soft) 100%);
      color: #ffffff;
      box-shadow: 0 12px 30px rgba(75, 141, 248, 0.35);
    }
    .btn-primary:hover { 
      transform: translateY(-2px); 
      box-shadow: 0 16px 40px rgba(75, 141, 248, 0.45);
      animation: pulse 0.6s ease;
    }
    .btn-ghost {
      background: #eef2ff;
      color: #0f172a;
      border: 1px solid #cbd5e1;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="slides" id="slides">
      <!-- Slide 1: Identitas Kelompok -->
      <section class="slide" data-slide="501" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:18px;font-weight:700;margin-bottom:18px;text-align:center">Identitas Kelompok</div>
          <div style="margin-bottom:24px;padding:18px;border:1px solid var(--line);border-radius:14px;background:#f9fbff">
            <label class="genty" style="font-weight:700;display:block;margin-bottom:8px;color:#0f172a">Nama Kelompok:</label>
            <input type="text" id="groupName" placeholder="Masukkan nama kelompok..." style="width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:10px;font-size:15px;font-family:'Plus Jakarta Sans',sans-serif">
          </div>
          <div style="margin-bottom:24px">
            <div class="genty" style="font-weight:700;margin-bottom:14px;color:#0f172a;font-size:16px">Anggota Kelompok:</div>
            <div id="membersList" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px"></div>
          </div>
          <div style="margin-top:24px;padding:18px;border:2px dashed #4b8df8;border-radius:14px;background:rgba(75,141,248,0.05)">
            <div class="genty" style="font-weight:700;margin-bottom:14px;color:#0f172a;font-size:16px">‚ûï Tambah Anggota Baru</div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px">
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">Nama Siswa:</label>
                <input type="text" id="memberName" placeholder="Nama lengkap..." style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">Posisi/Tanggung Jawab:</label>
                <select id="memberRole" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
                  <option value="Ketua">Ketua Kelompok</option>
                  <option value="Wakil Ketua">Wakil Ketua</option>
                  <option value="Sekretaris">Sekretaris</option>
                  <option value="Bendahara">Bendahara</option>
                  <option value="Anggota">Anggota Biasa</option>
                </select>
              </div>
            </div>
            <button onclick="addMember()" style="width:100%;padding:12px 16px;background:linear-gradient(135deg,#4b8df8,#6da8ff);color:#fff;border:none;border-radius:10px;font-weight:700;font-size:15px;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;box-shadow:0 6px 18px rgba(75,141,248,0.3);transition:all 0.22s ease" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">Tambahkan ke Kelompok</button>
          </div>
          <div style="margin-top:24px;padding:16px;border:1px solid var(--line);border-radius:12px;background:#e8f0ff">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px">
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">üìÖ Tahun Ajaran:</label>
                <div style="padding:10px 12px;background:#ffffff;border:1px solid var(--line);border-radius:10px;font-size:14px;font-weight:700;color:#0f172a">2025/2026</div>
              </div>
              <div>
                <label class="genty" style="font-size:13px;font-weight:700;color:#0f172a;display:block;margin-bottom:6px">üè´ Sekolah:</label>
                <input type="text" id="schoolName" placeholder="Nama sekolah..." style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
            </div>
          </div>
          <div style="margin-top:24px;display:flex;justify-content:flex-end;gap:12px">
            <button onclick="updateSlide(502)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 2: Tujuan Pembelajaran dan Petunjuk Kegiatan -->
      <section class="slide" data-slide="502" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">A. Tujuan Pembelajaran</div>
          <div style="margin-bottom:18px;font-size:16px">Melalui kegiatan presentasi, refleksi, dan evaluasi proyek ini, peserta didik diharapkan mampu menyajikan hasil analisis data secara runtut dan berbasis bukti, menginterpretasikan informasi statistik untuk pengambilan keputusan, serta merefleksikan pengalaman belajar guna memperkuat literasi statistik dan resiliensi diri.</div>
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:14px;text-align:center">B. Petunjuk Kegiatan</div>
          <ol style="font-size:15px;line-height:1.8;margin-bottom:24px;padding-left:22px">
            <li>Lakukan presentasi proyek secara berkelompok sesuai urutan yang ditentukan guru.</li>
            <li>Dengarkan presentasi kelompok lain dengan sikap saling menghargai.</li>
            <li>Berikan tanggapan atau pertanyaan secara sopan dan konstruktif.</li>
            <li>Isilah bagian refleksi dan evaluasi secara jujur berdasarkan pengalaman belajar.</li>
          </ol>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(501)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(503)" class="btn-primary">Selanjutnya ‚Üí</button>
      </section>
      <!-- Slide 3: Presentasi Ringkasan Proyek Kelompok -->
      <section class="slide" data-slide="503" style="display:none">
        <div style="padding:32px 24px;max-height:calc(100vh - 200px);overflow-y:auto">
          <div class="genty" style="font-size:22px;font-weight:700;margin-bottom:20px;text-align:center;color:#0f172a">C. Presentasi Ringkasan Proyek Kelompok</div>
          <div style="margin-bottom:28px;font-size:15px;color:#6b7280;text-align:center">Pilih kelompok yang presentasi, upload file, dan kelompok lain dapat memberikan komentar</div>
          
          <!-- Pilih Kelompok Presentasi -->
          <div style="background:linear-gradient(135deg,#4b8df8,#6da8ff);padding:20px;border-radius:16px;margin-bottom:24px;text-align:center">
            <label style="color:white;font-weight:700;font-size:15px;display:block;margin-bottom:12px">üë• Kelompok yang Presentasi:</label>
            <select id="presentingGroup" onchange="switchPresentingGroup()" style="width:100%;max-width:300px;padding:12px 16px;border:none;border-radius:10px;font-size:15px;font-family:'Plus Jakarta Sans',sans-serif;font-weight:600;cursor:pointer">
              <option value="">-- Pilih Kelompok --</option>
              <option value="Kelompok 1">Kelompok 1</option>
              <option value="Kelompok 2">Kelompok 2</option>
              <option value="Kelompok 3">Kelompok 3</option>
              <option value="Kelompok 4">Kelompok 4</option>
              <option value="Kelompok 5">Kelompok 5</option>
              <option value="Kelompok 6">Kelompok 6</option>
            </select>
          </div>
          
          <div id="presentationArea"></div>
          
          <div style="margin-top:32px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(502)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(504)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
        
        <style>
          .presentation-card {
            background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
            border: 2px solid var(--line);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 24px rgba(75, 141, 248, 0.12);
            transition: all 0.3s ease;
          }
          .presentation-card:hover {
            border-color: var(--primary);
            box-shadow: 0 12px 32px rgba(75, 141, 248, 0.2);
            transform: translateY(-4px);
          }
          .group-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-soft) 100%);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 16px;
            font-size: 16px;
          }
          .upload-area {
            border: 2px dashed var(--primary);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            background: rgba(75, 141, 248, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 16px;
          }
          .upload-area:hover {
            background: rgba(75, 141, 248, 0.1);
            border-color: var(--primary-soft);
          }
          .file-input {
            display: none;
          }
          .file-preview {
            margin-bottom: 12px;
            max-height: 150px;
            border-radius: 10px;
            overflow: hidden;
          }
          .file-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }
          .comments-section {
            background: #f9fbff;
            border-radius: 12px;
            padding: 14px;
            margin-top: 16px;
            max-height: 250px;
            overflow-y: auto;
          }
          .comment-item {
            background: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 13px;
            border-left: 3px solid var(--primary);
          }
          .comment-author {
            font-weight: 700;
            color: var(--primary);
            font-size: 13px;
            margin-bottom: 4px;
          }
          .comment-text {
            color: #0f172a;
            line-height: 1.4;
          }
          .comment-time {
            font-size: 11px;
            color: #9ca3af;
            margin-top: 6px;
          }
          .comment-card {
            background: white;
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(75, 141, 248, 0.08);
          }
          .comment-textarea {
            padding: 10px 12px;
            border: 1px solid var(--line);
            border-radius: 8px;
            font-size: 13px;
            font-family: 'Plus Jakarta Sans', sans-serif;
            resize: none;
            height: 60px;
          }
          .btn-comment {
            padding: 8px 14px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
          }
          .btn-comment:hover {
            background: var(--primary-soft);
            transform: translateY(-1px);
          }
          .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-top: 8px;
          }
          .status-done {
            background: #dcfce7;
            color: #15803d;
          }
          .status-pending {
            background: #fef3c7;
            color: #b45309;
          }
        </style>
        
        <script>
          // Data storage untuk presentasi kelompok
          if (!window.groupPresentations) {
            window.groupPresentations = {
              'Kelompok 1': { file: null, fileName: '', comments: [], fileType: '' },
              'Kelompok 2': { file: null, fileName: '', comments: [], fileType: '' },
              'Kelompok 3': { file: null, fileName: '', comments: [], fileType: '' },
              'Kelompok 4': { file: null, fileName: '', comments: [], fileType: '' },
              'Kelompok 5': { file: null, fileName: '', comments: [], fileType: '' },
              'Kelompok 6': { file: null, fileName: '', comments: [], fileType: '' }
            };
          }
          
          function switchPresentingGroup() {
            const select = document.getElementById('presentingGroup');
            const groupName = select.value;
            const container = document.getElementById('presentationArea');
            
            if (!groupName) {
              container.innerHTML = '<div style="text-align:center;color:#9ca3af;padding:40px 0;font-size:15px">üëÜ Pilih kelompok yang akan presentasi</div>';
              return;
            }
            
            const groups = ['Kelompok 1', 'Kelompok 2', 'Kelompok 3', 'Kelompok 4', 'Kelompok 5', 'Kelompok 6'];
            const otherGroups = groups.filter(g => g !== groupName);
            
            container.innerHTML = `
              <!-- Upload Area -->
              <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:2px solid var(--line);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 8px 24px rgba(75,141,248,0.12)">
                <div style="font-weight:700;font-size:18px;margin-bottom:16px;text-align:center;color:#0f172a">üì§ Upload Presentasi</div>
                
                <div class="upload-area" onclick="document.getElementById('mainFileInput').click()">
                  <input type="file" id="mainFileInput" class="file-input" accept="image/*,.pdf,.ppt,.pptx" onchange="handleFileUpload('${groupName}', this)">
                  <div style="font-size:40px;margin-bottom:12px">üì§</div>
                  <div style="font-weight:700;color:#0f172a;margin-bottom:6px;font-size:16px">Klik atau Drag File ke Sini</div>
                  <div style="font-size:14px;color:#6b7280">Foto, PDF, atau PowerPoint (Max 10MB)</div>
                </div>
                
                <div id="mainFilePreview"></div>
                <div id="mainStatus" style="text-align:center;margin-top:12px"></div>
              </div>
              
              <!-- Comments Section -->
              <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:2px solid var(--line);border-radius:16px;padding:24px;box-shadow:0 8px 24px rgba(75,141,248,0.12)">
                <div style="font-weight:700;font-size:18px;margin-bottom:16px;text-align:center;color:#0f172a">üí¨ Komentar dari Kelompok Lain</div>
                
                <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-bottom:20px">
                  ${otherGroups.map(g => `
                    <div class="comment-card">
                      <div style="background:linear-gradient(135deg,#6da8ff,#4b8df8);color:white;padding:10px;border-radius:10px;font-weight:700;text-align:center;margin-bottom:12px;font-size:14px">${g}</div>
                      <div id="commentsList_${g.replace(' ', '_')}" style="min-height:100px;margin-bottom:12px;padding:12px;background:#f9fbff;border-radius:10px;max-height:180px;overflow-y:auto"></div>
                      <textarea id="commentText_${g.replace(' ', '_')}" class="comment-textarea" placeholder="Tulis komentar..." style="width:100%;margin-bottom:8px"></textarea>
                      <button class="btn-comment" onclick="submitComment('${groupName}', '${g}')" style="width:100%">Kirim Komentar</button>
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
            
            updateMainFilePreview(groupName);
            updateMainStatus(groupName);
            otherGroups.forEach(g => updateCommentsListForGroup(groupName, g));
          }
          
          function handleFileUpload(groupName, input) {
            if (input.files && input.files[0]) {
              const file = input.files[0];
              const reader = new FileReader();
              
              window.groupPresentations[groupName].fileName = file.name;
              window.groupPresentations[groupName].fileType = file.type;
              
              reader.onload = function(e) {
                window.groupPresentations[groupName].file = e.target.result;
                updateMainFilePreview(groupName);
                updateMainStatus(groupName);
              };
              reader.readAsDataURL(file);
            }
          }
          
          function submitComment(targetGroup, commenterGroup) {
            const commentText = document.getElementById('commentText_' + commenterGroup.replace(' ', '_'));
            const text = commentText.value.trim();
            
            if (!text) {
              alert('Silakan tulis komentar Anda');
              return;
            }
            
            if (!window.groupPresentations[targetGroup].comments) {
              window.groupPresentations[targetGroup].comments = [];
            }
            
            window.groupPresentations[targetGroup].comments.push({
              commenter: commenterGroup,
              text: text,
              timestamp: new Date().toLocaleString('id-ID', { hour: '2-digit', minute: '2-digit' })
            });
            
            commentText.value = '';
            updateCommentsListForGroup(targetGroup, commenterGroup);
          }
          
          function updateCommentsListForGroup(targetGroup, commenterGroup) {
            const listDiv = document.getElementById('commentsList_' + commenterGroup.replace(' ', '_'));
            if (!listDiv) return;
            
            const comments = window.groupPresentations[targetGroup].comments || [];
            const groupComments = comments.filter(c => c.commenter === commenterGroup);
            
            if (groupComments.length === 0) {
              listDiv.innerHTML = '<div style="color:#9ca3af;font-size:12px;text-align:center;padding:10px 0">Belum ada komentar</div>';
            } else {
              listDiv.innerHTML = groupComments.map(c => `
                <div style="background:white;padding:10px;border-radius:8px;margin-bottom:8px;border-left:3px solid var(--primary)">
                  <div style="font-size:12px;color:#0f172a;line-height:1.4;margin-bottom:4px">${c.text}</div>
                  <div style="font-size:10px;color:#9ca3af">${c.timestamp}</div>
                </div>
              `).join('');
            }
          }
          
          function updateMainFilePreview(groupName) {
            const previewDiv = document.getElementById('mainFilePreview');
            if (!previewDiv) return;
            
            const data = window.groupPresentations[groupName];
            if (data.file) {
              if (data.fileType.startsWith('image/')) {
                previewDiv.innerHTML = `
                  <div class="file-preview" style="margin-top:16px">
                    <img src="${data.file}" alt="Preview" style="width:100%;max-height:300px;object-fit:contain;border-radius:12px">
                  </div>
                  <div style="font-size:14px;color:#6b7280;text-align:center;margin-top:12px">‚úì ${data.fileName}</div>
                `;
              } else {
                previewDiv.innerHTML = `
                  <div style="background:#f0f4ff;padding:20px;border-radius:12px;text-align:center;margin-top:16px">
                    <div style="font-size:36px;margin-bottom:12px">üìé</div>
                    <div style="font-size:14px;color:#0f172a;font-weight:700;word-break:break-word">${data.fileName}</div>
                  </div>
                `;
              }
            } else {
              previewDiv.innerHTML = '';
            }
          }
          
          function updateMainStatus(groupName) {
            const statusDiv = document.getElementById('mainStatus');
            if (!statusDiv) return;
            
            const hasFile = window.groupPresentations[groupName].file !== null;
            
            if (hasFile) {
              statusDiv.innerHTML = '<div class="status-badge status-done">‚úì Presentasi Sudah Diupload</div>';
            } else {
              statusDiv.innerHTML = '<div class="status-badge status-pending">‚è≥ Menunggu Upload File</div>';
            }
          }
          
          // Initialize presentation area saat halaman dimuat
          setTimeout(function() {
            const container = document.getElementById('presentationArea');
            if (container) {
              container.innerHTML = '<div style="text-align:center;color:#9ca3af;padding:40px 0;font-size:15px">üëÜ Pilih kelompok yang akan presentasi</div>';
            }
          }, 100);
        </script>
      </section>
      <!-- Slide 4: Penyajian Hasil Statistik -->
      <section class="slide" data-slide="504" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">D. Penyajian Hasil Statistik</div>
          <div style="margin-bottom:16px;font-size:16px">Lengkapi tabel berikut berdasarkan hasil analisis data kelompok</div>
          <table style="width:100%;border-collapse:collapse;margin-bottom:24px">
            <thead>
              <tr style="background:#f5f5f5">
                <th>Ukuran Statistik</th>
                <th>Nilai</th>
                <th>Makna dalam Konteks Penggunaan HP</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Rata-rata</td><td><input type="text" style="width:100%"></td><td><input type="text" style="width:100%"></td></tr>
              <tr><td>Median</td><td><input type="text" style="width:100%"></td><td><input type="text" style="width:100%"></td></tr>
              <tr><td>Modus</td><td><input type="text" style="width:100%"></td><td><input type="text" style="width:100%"></td></tr>
              <tr><td>Jangkauan</td><td><input type="text" style="width:100%"></td><td><input type="text" style="width:100%"></td></tr>
              <tr><td>Kuartil</td><td><input type="text" style="width:100%"></td><td><input type="text" style="width:100%"></td></tr>
            </tbody>
          </table>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(503)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(505)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 5: Kesimpulan Berbasis Data -->
      <section class="slide" data-slide="505" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">E. Kesimpulan Berbasis Data</div>
          <div style="margin-bottom:16px;font-size:16px">Tuliskan kesimpulan utama berdasarkan hasil analisis data</div>
          <textarea placeholder="Kesimpulan utama..." style="width:100%;min-height:64px;margin-bottom:24px"></textarea>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(504)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(506)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 6: Refleksi Kelompok -->
      <section class="slide" data-slide="506" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">F. Refleksi Kelompok</div>
          <div style="margin-bottom:16px;font-size:16px">Jawablah pertanyaan berikut secara berkelompok</div>
          <div style="margin-bottom:10px;font-size:15px">1. Hal paling menantang selama mengerjakan proyek ini adalah:</div>
          <textarea placeholder="Jawaban..." style="width:100%;min-height:48px;margin-bottom:18px"></textarea>
          <div style="margin-bottom:10px;font-size:15px">2. Cara kelompok mengatasi tantangan tersebut</div>
          <textarea placeholder="Jawaban..." style="width:100%;min-height:48px;margin-bottom:18px"></textarea>
          <div style="margin-bottom:10px;font-size:15px">3. Pelajaran penting yang diperoleh dari kerja kelompok</div>
          <textarea placeholder="Jawaban..." style="width:100%;min-height:48px;margin-bottom:24px"></textarea>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(505)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="updateSlide(507)" class="btn-primary">Selanjutnya ‚Üí</button>
          </div>
        </div>
      </section>
      <!-- Slide 7: Evaluasi Diri Terhadap Proyek -->
      <section class="slide" data-slide="507" style="display:none">
        <div class="card-lite" style="text-align:left;padding:32px 24px">
          <div class="genty" style="font-size:20px;font-weight:700;margin-bottom:18px;text-align:center">G. Evaluasi Diri Terhadap Proyek</div>
          <div style="margin-bottom:16px;font-size:16px">Berilah tanda centang (‚úì) sesuai dengan kondisi diri anda</div>
          <table style="width:100%;border-collapse:collapse;margin-bottom:24px">
            <thead>
              <tr style="background:#f5f5f5">
                <th>Pernyataan</th>
                <th style="width:80px">Ya</th>
                <th style="width:80px">Tidak</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Saya berperan aktif dalam kelompok</td>
                <td style="text-align:center"><input type="checkbox" name="aktif" value="ya"></td>
                <td style="text-align:center"><input type="checkbox" name="aktif" value="tidak"></td>
              </tr>
              <tr>
                <td>Saya memahami data yang dianalisis</td>
                <td style="text-align:center"><input type="checkbox" name="paham" value="ya"></td>
                <td style="text-align:center"><input type="checkbox" name="paham" value="tidak"></td>
              </tr>
              <tr>
                <td>Saya berani menyampaikan pendapat</td>
                <td style="text-align:center"><input type="checkbox" name="berani" value="ya"></td>
                <td style="text-align:center"><input type="checkbox" name="berani" value="tidak"></td>
              </tr>
              <tr>
                <td>Saya tidak mudah menyerah saat mengalami kesulitan</td>
                <td style="text-align:center"><input type="checkbox" name="pantang" value="ya"></td>
                <td style="text-align:center"><input type="checkbox" name="pantang" value="tidak"></td>
              </tr>
              <tr>
                <td>Saya menggunakan data untuk menarik Kesimpulan</td>
                <td style="text-align:center"><input type="checkbox" name="data" value="ya"></td>
                <td style="text-align:center"><input type="checkbox" name="data" value="tidak"></td>
              </tr>
            </tbody>
          </table>
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px">
            <button onclick="updateSlide(506)" class="btn-ghost">‚Üê Sebelumnya</button>
            <button onclick="showSelesaiPopup()" class="btn-primary">Selesai</button>
            <button id="downloadPDFBtn" onclick="downloadPDF()" class="btn-primary">Download PDF</button>
          </div>
        </div>
      </section>
      <!-- Slide 1001: Chart Generator -->
      <section class="slide" data-slide="1001" style="display:none">
        <div style="padding:32px 24px;max-height:calc(100vh - 100px);overflow-y:auto">
          <div class="genty" style="font-size:22px;font-weight:700;margin-bottom:20px;text-align:center;color:#0f172a">üìä Chart Generator - Penyajian Data</div>
          <div style="margin-bottom:20px;font-size:14px;color:#6b7280;text-align:center">Buat visualisasi data untuk presentasi Anda</div>
          
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">
            <!-- Input Data Section -->
            <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px">
              <div style="font-weight:700;font-size:16px;margin-bottom:16px;color:#0f172a">üìù Input Data</div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Label/Kategori (pisahkan dengan koma)</label>
                <input type="text" id="chartLabels" placeholder="Kategori A, Kategori B, Kategori C" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Data/Nilai (pisahkan dengan koma)</label>
                <input type="text" id="chartValues" placeholder="10, 20, 30" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:14px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Judul Chart</label>
                <input type="text" id="chartTitle" placeholder="Contoh: Durasi Penggunaan HP" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
              </div>
              
              <div style="margin-bottom:16px">
                <label style="font-weight:700;font-size:13px;display:block;margin-bottom:6px">Jenis Chart</label>
                <select id="chartType" style="width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;font-size:13px;font-family:'Plus Jakarta Sans',sans-serif">
                  <option value="bar">üìä Diagram Batang</option>
                  <option value="line">üìà Diagram Garis</option>
                  <option value="doughnut">ü•ß Diagram Lingkaran</option>
                  <option value="radar">üéØ Diagram Radar</option>
                </select>
              </div>
              
              <button onclick="generateChart()" style="width:100%;padding:12px;background:linear-gradient(135deg,#4b8df8,#6da8ff);color:white;border:none;border-radius:10px;font-weight:700;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s ease" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                ‚ú® Buat Chart
              </button>
            </div>
            
            <!-- Chart Preview -->
            <div style="background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px;display:flex;flex-direction:column">
              <div style="font-weight:700;font-size:16px;margin-bottom:16px;color:#0f172a">üëÅÔ∏è Preview</div>
              <div id="chartPreviewContainer" style="flex:1;display:flex;align-items:center;justify-content:center;min-height:300px;background:#f9fbff;border-radius:12px;border:1px dashed var(--line)">
                <div style="text-align:center;color:#9ca3af">
                  <div style="font-size:32px;margin-bottom:8px">üìä</div>
                  <div>Isi data dan klik "Buat Chart"</div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Chart Data Table Preview -->
          <div style="margin-top:20px;background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border:1px solid var(--line);border-radius:16px;padding:20px">
            <div style="font-weight:700;font-size:16px;margin-bottom:12px;color:#0f172a">üìã Preview Data Tabel</div>
            <div id="tablePreviewContainer" style="max-height:200px;overflow-y:auto"></div>
          </div>
          
          <!-- Action Buttons -->
          <div style="margin-top:24px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
            <button onclick="updateSlide(507)" class="btn-ghost" style="flex:1">‚Üê Kembali</button>
            <button onclick="downloadChartPDF()" class="btn-primary" style="flex:1">üì• Download Chart</button>
            <button onclick="resetChartForm()" style="flex:1;padding:12px 16px;background:#f3f4f6;color:#0f172a;border:1px solid var(--line);border-radius:10px;font-weight:700;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s ease" onmouseover="this.style.background='#e5e7eb'" onmouseout="this.style.background='#f3f4f6'">üîÑ Reset</button>
          </div>
        </div>
        
        <style>
          #chartPreviewContainer canvas {
            max-width: 100%;
            height: auto;
          }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
        <script>
          let currentChartInstance = null;
          
          function generateChart() {
            const labelsInput = document.getElementById('chartLabels').value;
            const valuesInput = document.getElementById('chartValues').value;
            const chartTitle = document.getElementById('chartTitle').value || 'Chart';
            const chartType = document.getElementById('chartType').value;
            
            if (!labelsInput.trim() || !valuesInput.trim()) {
              alert('Silakan isi data label dan nilai terlebih dahulu');
              return;
            }
            
            const labels = labelsInput.split(',').map(l => l.trim());
            const values = valuesInput.split(',').map(v => {
              const num = parseFloat(v.trim());
              return isNaN(num) ? 0 : num;
            });
            
            if (labels.length !== values.length) {
              alert('Jumlah label harus sama dengan jumlah nilai');
              return;
            }
            
            updateTablePreview(labels, values);
            renderChart(labels, values, chartTitle, chartType);
          }
          
          function updateTablePreview(labels, values) {
            const container = document.getElementById('tablePreviewContainer');
            let html = '<table style="width:100%;border-collapse:collapse">';
            html += '<thead><tr style="background:#f5f5f5"><th style="padding:10px;text-align:left;border:1px solid var(--line)">Kategori</th><th style="padding:10px;text-align:center;border:1px solid var(--line)">Nilai</th></tr></thead>';
            html += '<tbody>';
            
            labels.forEach((label, idx) => {
              html += `<tr><td style="padding:10px;border:1px solid var(--line)">${label}</td><td style="padding:10px;text-align:center;border:1px solid var(--line);font-weight:700">${values[idx]}</td></tr>`;
            });
            
            html += '</tbody></table>';
            container.innerHTML = html;
          }
          
          function renderChart(labels, values, title, type) {
            const container = document.getElementById('chartPreviewContainer');
            
            // Generate random colors
            const bgColors = labels.map(() => {
              const hue = Math.random() * 360;
              return `hsl(${hue}, 70%, 60%)`;
            });
            
            const borderColors = labels.map(() => {
              const hue = Math.random() * 360;
              return `hsl(${hue}, 70%, 40%)`;
            });
            
            // Destroy previous chart
            if (currentChartInstance) {
              currentChartInstance.destroy();
            }
            
            // Create canvas
            container.innerHTML = '<canvas id="dynamicChart"></canvas>';
            const canvas = document.getElementById('dynamicChart');
            
            const chartConfig = {
              type: type,
              data: {
                labels: labels,
                datasets: [{
                  label: title,
                  data: values,
                  backgroundColor: type === 'line' ? 'rgba(75, 141, 248, 0.1)' : bgColors,
                  borderColor: type === 'line' ? '#4b8df8' : borderColors,
                  borderWidth: type === 'line' ? 3 : 1,
                  fill: type === 'line' ? true : false,
                  tension: 0.4
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    display: type !== 'bar' && type !== 'line',
                    position: 'bottom'
                  },
                  title: {
                    display: true,
                    text: title,
                    font: { size: 16, weight: 'bold' }
                  }
                },
                scales: type === 'line' || type === 'bar' ? {
                  y: {
                    beginAtZero: true,
                    ticks: {
                      stepSize: Math.ceil(Math.max(...values) / 5)
                    }
                  }
                } : undefined
              }
            };
            
            currentChartInstance = new Chart(canvas, chartConfig);
          }
          
          function downloadChartPDF() {
            if (!currentChartInstance) {
              alert('Silakan buat chart terlebih dahulu');
              return;
            }
            
            const canvas = document.getElementById('dynamicChart');
            if (!canvas) {
              alert('Chart tidak ditemukan');
              return;
            }
            
            const imageData = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = imageData;
            link.download = 'chart_' + new Date().getTime() + '.png';
            link.click();
          }
          
          function resetChartForm() {
            document.getElementById('chartLabels').value = '';
            document.getElementById('chartValues').value = '';
            document.getElementById('chartTitle').value = '';
            document.getElementById('chartType').value = 'bar';
            document.getElementById('chartPreviewContainer').innerHTML = `
              <div style="text-align:center;color:#9ca3af">
                <div style="font-size:32px;margin-bottom:8px">üìä</div>
                <div>Isi data dan klik "Buat Chart"</div>
              </div>
            `;
            document.getElementById('tablePreviewContainer').innerHTML = '';
            
            if (currentChartInstance) {
              currentChartInstance.destroy();
              currentChartInstance = null;
            }
          }
        </script>
      </section>
    </div>
  </div>
  <script>
    // Navigasi slide: hanya satu slide tampil (class 'active')
    function showSlideByDataSlide(slideNum) {
      document.querySelectorAll('.slide').forEach(sl => {
        if (Number(sl.getAttribute('data-slide')) === slideNum) {
          sl.classList.add('active');
          sl.style.display = '';
        } else {
          sl.classList.remove('active');
          sl.style.display = 'none';
        }77
      });
      window.scrollTo(0,0);
    }
    // Inisialisasi: tampilkan slide pertama (501)
    document.addEventListener('DOMContentLoaded', function() {
      showSlideByDataSlide(501);
      // (Tombol Download PDF sekarang hanya ada di slide terakhir)
    });
    // Ganti semua tombol updateSlide agar pakai showSlideByDataSlide
    window.updateSlide = showSlideByDataSlide;
    // Fungsi tambah anggota (dummy, bisa dikembangkan)
    function addMember() {
      const nameInput = document.getElementById('memberName');
      const roleInput = document.getElementById('memberRole');
      const membersList = document.getElementById('membersList');
      const name = nameInput.value.trim();
      const role = roleInput.value;
      if (!name) {
        alert('Nama anggota tidak boleh kosong!');
        nameInput.focus();
        return;
      }
      // Buat elemen anggota
      const div = document.createElement('div');
      div.className = 'anggota-item';
      div.style = 'padding:10px 12px;background:#f4f8ff;border:1px solid #dbe6ff;border-radius:10px;margin-bottom:6px;display:flex;align-items:center;gap:8px;';
      const namaSpan = document.createElement('span');
      namaSpan.className = 'anggota-nama';
      namaSpan.textContent = name;
      namaSpan.style = 'font-weight:600;color:#1e293b;';
      const roleSpan = document.createElement('span');
      roleSpan.className = 'anggota-role';
      roleSpan.textContent = '('+role+')';
      roleSpan.style = 'font-size:13px;color:#64748b;';
      // Tombol hapus anggota
      const delBtn = document.createElement('button');
      delBtn.textContent = '‚úï';
      delBtn.title = 'Hapus anggota';
      delBtn.style = 'margin-left:auto;background:#e2e8f0;color:#334155;border:none;border-radius:6px;padding:2px 8px;cursor:pointer;font-size:13px;';
      delBtn.onclick = function() {
        membersList.removeChild(div);
      };
      div.appendChild(namaSpan);
      div.appendChild(roleSpan);
      div.appendChild(delBtn);
      membersList.appendChild(div);
      // Reset input
      nameInput.value = '';
      nameInput.focus();
    }

    // Pop up selesai
    function showSelesaiPopup() {
      alert('Pengerjaanmu selesai!');
    }

    // Fungsi Download PDF
    async function downloadPDF() {
      // Load jsPDF & html2canvas jika belum ada
      if (typeof window.jspdf === 'undefined') {
        await loadScript('tools/libs/jspdf.umd.min.js');
      }
      if (typeof window.html2canvas === 'undefined') {
        await loadScript('tools/libs/html2canvas.min.js');
      }
      const { jsPDF } = window.jspdf;

      // Ambil data identitas
      const groupName = document.getElementById('groupName')?.value || '-';
      const schoolName = document.getElementById('schoolName')?.value || '-';
      // Ambil anggota kelompok (dari #membersList, fallback: kosong)
      let anggota = [];
      document.querySelectorAll('#membersList .anggota-nama').forEach(el => {
        anggota.push(el.textContent.trim());
      });
      if (anggota.length === 0) anggota.push('-');

      // Ambil semua textarea (urut sesuai tampilan)
      const textareas = document.querySelectorAll('textarea');
      // Ambil semua input (type text/number di slide 503, 504)
      const inputs = document.querySelectorAll('section.slide input[type="text"], section.slide input[type="number"]');

      // Ambil jawaban evaluasi (checkbox)
      const evaluasi = [
        { label: 'Saya berperan aktif dalam kelompok', name: 'aktif' },
        { label: 'Saya memahami data yang dianalisis', name: 'paham' },
        { label: 'Saya berani menyampaikan pendapat', name: 'berani' },
        { label: 'Saya tidak mudah menyerah saat mengalami kesulitan', name: 'pantang' },
        { label: 'Saya menggunakan data untuk menarik Kesimpulan', name: 'data' },
      ];
      function getCheckboxValue(name) {
        const ya = document.querySelector('input[name="'+name+' "][value="ya"]')?.checked;
        const tidak = document.querySelector('input[name="'+name+' "][value="tidak"]')?.checked;
        if (ya) return 'Ya';
        if (tidak) return 'Tidak';
        return '-';
      }

      // Siapkan PDF
      const doc = new jsPDF();
      let y = 15;
      doc.setFont('helvetica','bold');
      doc.setFontSize(16);
      doc.text('HASIL PENGERJAAN KELOMPOK', 105, y, { align: 'center' });
      y += 10;
      doc.setFontSize(11);
      doc.setFont('helvetica','normal');
      doc.text('Nama Kelompok: ' + groupName, 15, y);
      y += 7;
      doc.text('Sekolah: ' + schoolName, 15, y);
      y += 7;
      doc.text('Anggota Kelompok:', 15, y);
      y += 6;
      anggota.forEach((nama, idx) => {
        doc.text('- ' + nama, 20, y);
        y += 6;
      });
      y += 2;
      doc.setFont('helvetica','bold');
      doc.text('Ringkasan Proyek:', 15, y);
      doc.setFont('helvetica','normal');
      y += 7;
      doc.text('1. Fokus data: ' + (textareas[0]?.value || '-'), 15, y);
      y += 7;
      doc.text('2. Jumlah responden: ' + (inputs[0]?.value || '-'), 15, y);
      y += 7;
      doc.text('3. Informasi utama: ' + (textareas[1]?.value || '-'), 15, y);
      y += 10;
      doc.setFont('helvetica','bold');
      doc.text('Penyajian Hasil Statistik:', 15, y);
      doc.setFont('helvetica','normal');
      y += 7;
      const statistik = ['Rata-rata','Median','Modus','Jangkauan','Kuartil'];
      for (let i=0; i<5; i++) {
        doc.text(statistik[i]+': ' + (inputs[1+i*2]?.value || '-') + ' | ' + (inputs[2+i*2]?.value || '-'), 15, y);
        y += 6;
      }
      y += 2;
      doc.setFont('helvetica','bold');
      doc.text('Kesimpulan:', 15, y);
      doc.setFont('helvetica','normal');
      y += 7;
      doc.text((textareas[2]?.value || '-'), 15, y, { maxWidth: 180 });
      y += 12;
      doc.setFont('helvetica','bold');
      doc.text('Refleksi Kelompok:', 15, y);
      doc.setFont('helvetica','normal');
      y += 7;
      doc.text('1. Tantangan: ' + (textareas[3]?.value || '-'), 15, y, { maxWidth: 180 });
      y += 7;
      doc.text('2. Cara mengatasi: ' + (textareas[4]?.value || '-'), 15, y, { maxWidth: 180 });
      y += 7;
      doc.text('3. Pelajaran penting: ' + (textareas[5]?.value || '-'), 15, y, { maxWidth: 180 });
      y += 10;
      doc.setFont('helvetica','bold');
      doc.text('Evaluasi Diri:', 15, y);
      doc.setFont('helvetica','normal');
      y += 7;
      evaluasi.forEach((ev, idx) => {
        doc.text((idx+1)+'. '+ev.label+': '+getCheckboxValue(ev.name), 15, y, { maxWidth: 180 });
        y += 6;
      });

      doc.save('hasil_kelompok.pdf');
    }

    // Loader eksternal script
    function loadScript(src) {
      return new Promise((resolve, reject) => {
        const s = document.createElement('script');
        s.src = src;
        s.onload = resolve;
        s.onerror = reject;
        document.head.appendChild(s);
      });
    }
  </script>
</body>
</html>
